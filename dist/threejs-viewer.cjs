"use strict";var he=Object.defineProperty;var _e=(o,e,r)=>e in o?he(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r;var s=(o,e,r)=>_e(o,typeof e!="symbol"?e+"":e,r);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const fe=require("three"),ee=require("three-stdlib"),p=require("react");function pe(o){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(o){for(const r in o)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(o,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:()=>o[r]})}}return e.default=o,Object.freeze(e)}const d=pe(fe);class te{constructor(){s(this,"_scene");s(this,"_isDisposed",!1);this._scene=new d.Scene}get scene(){return this._scene}add(e){if(this._isDisposed)throw new Error("SceneManager has been disposed");this._scene.add(e)}remove(e){if(this._isDisposed)throw new Error("SceneManager has been disposed");this._scene.remove(e)}clear(){if(this._isDisposed)throw new Error("SceneManager has been disposed");for(;this._scene.children.length>0;){const e=this._scene.children[0];e&&(this._disposeObject(e),this._scene.remove(e))}}dispose(){this._isDisposed||(this.clear(),this._scene.background&&(this._scene.background instanceof d.Texture&&this._scene.background.dispose(),this._scene.background=null),this._scene.environment&&(this._scene.environment.dispose(),this._scene.environment=null),this._isDisposed=!0)}_disposeObject(e){for(;e.children.length>0;){const r=e.children[0];r&&(this._disposeObject(r),e.remove(r))}e instanceof d.Mesh&&(e.geometry&&e.geometry.dispose(),e.material&&this._disposeMaterial(e.material)),(e instanceof d.Line||e instanceof d.Points)&&(e.geometry&&e.geometry.dispose(),e.material&&this._disposeMaterial(e.material))}_disposeMaterial(e){Array.isArray(e)?e.forEach(r=>this._disposeSingleMaterial(r)):this._disposeSingleMaterial(e)}_disposeSingleMaterial(e){["map","lightMap","bumpMap","normalMap","specularMap","envMap","alphaMap","aoMap","displacementMap","emissiveMap","gradientMap","metalnessMap","roughnessMap"].forEach(n=>{const i=e[n];i instanceof d.Texture&&i.dispose()}),e.dispose()}}const I={fov:75,near:.1,far:1e3,position:new d.Vector3(0,0,5)};class re{constructor(e){s(this,"_camera");s(this,"_isDisposed",!1);const r=(e==null?void 0:e.fov)??I.fov,n=(e==null?void 0:e.near)??I.near,i=(e==null?void 0:e.far)??I.far,l=(e==null?void 0:e.position)??I.position.clone();this._camera=new d.PerspectiveCamera(r,1,n,i),this._camera.position.copy(l)}get camera(){return this._camera}configure(e){if(this._isDisposed)throw new Error("CameraManager has been disposed");e.fov!==void 0&&(this._camera.fov=e.fov),e.near!==void 0&&(this._camera.near=e.near),e.far!==void 0&&(this._camera.far=e.far),e.position!==void 0&&this._camera.position.copy(e.position),this._camera.updateProjectionMatrix()}setAspect(e){if(this._isDisposed)throw new Error("CameraManager has been disposed");(e<=0||!Number.isFinite(e))&&(console.warn("CameraManager: Invalid aspect ratio provided, using 1"),e=1),this._camera.aspect=e,this._camera.updateProjectionMatrix()}lookAt(e){if(this._isDisposed)throw new Error("CameraManager has been disposed");this._camera.lookAt(e)}dispose(){this._isDisposed||(this._isDisposed=!0)}}const J={antialias:!0,alpha:!1};class ie{constructor(){s(this,"_renderer",null);s(this,"_container",null);s(this,"_isDisposed",!1);s(this,"_isInitialized",!1)}get renderer(){if(!this._renderer)throw new Error("RenderManager has not been initialized. Call initialize() first.");return this._renderer}initialize(e,r){if(this._isDisposed)throw new Error("RenderManager has been disposed");if(this._isInitialized)throw new Error("RenderManager has already been initialized");const n=(r==null?void 0:r.antialias)??J.antialias,i=(r==null?void 0:r.alpha)??J.alpha;this._renderer=new d.WebGLRenderer({antialias:n,alpha:i}),this._renderer.setPixelRatio(window.devicePixelRatio);const l=e.clientWidth||1,m=e.clientHeight||1;this._renderer.setSize(l,m),e.appendChild(this._renderer.domElement),this._container=e,this._isInitialized=!0}setSize(e,r){if(this._isDisposed)throw new Error("RenderManager has been disposed");if(!this._renderer)throw new Error("RenderManager has not been initialized. Call initialize() first.");const n=Math.max(1,Math.floor(e)),i=Math.max(1,Math.floor(r));this._renderer.setSize(n,i)}render(e,r){if(this._isDisposed)throw new Error("RenderManager has been disposed");if(!this._renderer)throw new Error("RenderManager has not been initialized. Call initialize() first.");this._renderer.render(e,r)}dispose(){this._isDisposed||(this._renderer&&(this._container&&this._renderer.domElement.parentElement===this._container&&this._container.removeChild(this._renderer.domElement),this._renderer.dispose(),this._renderer=null),this._container=null,this._isInitialized=!1,this._isDisposed=!0)}}class se{constructor(){s(this,"_plugins",new Map);s(this,"_context",null);s(this,"_isDisposed",!1)}setContext(e){if(this._isDisposed)throw new Error("PluginSystem has been disposed");this._context=e}getContext(){return this._context}register(e){if(this._isDisposed)throw new Error("PluginSystem has been disposed");if(!this._context)throw new Error("Plugin context has not been set. Call setContext() before registering plugins.");if(this._plugins.has(e.name))throw new Error(`Plugin "${e.name}" is already registered`);e.initialize(this._context),this._plugins.set(e.name,e)}unregister(e){if(this._isDisposed)throw new Error("PluginSystem has been disposed");const r=this._plugins.get(e);r&&(r.dispose(),this._plugins.delete(e))}get(e){return this._plugins.get(e)}has(e){return this._plugins.has(e)}getPluginNames(){return Array.from(this._plugins.keys())}get pluginCount(){return this._plugins.size}updateAll(e){if(this._isDisposed)throw new Error("PluginSystem has been disposed");for(const r of this._plugins.values())if(r.update)try{r.update(e)}catch(n){console.error(`Error updating plugin "${r.name}":`,n)}}disposeAll(){if(!this._isDisposed){for(const e of this._plugins.values())try{e.dispose()}catch(r){console.error(`Error disposing plugin "${e.name}":`,r)}this._plugins.clear(),this._context=null,this._isDisposed=!0}}}class ne{constructor(){s(this,"_sceneManager");s(this,"_cameraManager");s(this,"_renderManager");s(this,"_pluginSystem");s(this,"_container",null);s(this,"_isInitialized",!1);s(this,"_isRunning",!1);s(this,"_isDisposed",!1);s(this,"_animationFrameId",null);s(this,"_lastTime",0);s(this,"_renderLoop",()=>{if(!this._isRunning||this._isDisposed)return;const e=performance.now(),r=(e-this._lastTime)/1e3;this._lastTime=e,this._pluginSystem.updateAll(r),this._renderManager.render(this._sceneManager.scene,this._cameraManager.camera),this._animationFrameId=requestAnimationFrame(this._renderLoop)});this._sceneManager=new te,this._cameraManager=new re,this._renderManager=new ie,this._pluginSystem=new se}get scene(){return this._sceneManager}get camera(){return this._cameraManager}get renderer(){return this._renderManager}get plugins(){return this._pluginSystem}get isRunning(){return this._isRunning}get isInitialized(){return this._isInitialized}get container(){return this._container}initialize(e){if(this._isDisposed)throw new Error("ViewerCore has been disposed");if(this._isInitialized)throw new Error("ViewerCore has already been initialized");const{container:r,antialias:n,alpha:i,cameraConfig:l}=e;this._container=r,l&&this._cameraManager.configure(l);const m={};n!==void 0&&(m.antialias=n),i!==void 0&&(m.alpha=i),this._renderManager.initialize(r,m);const E=r.clientWidth||1,y=r.clientHeight||1;this._cameraManager.setAspect(E/y);const T={scene:this._sceneManager.scene,camera:this._cameraManager.camera,renderer:this._renderManager.renderer,container:r};this._pluginSystem.setContext(T),this._isInitialized=!0}start(){if(this._isDisposed)throw new Error("ViewerCore has been disposed");if(!this._isInitialized)throw new Error("ViewerCore has not been initialized. Call initialize() first.");this._isRunning||(this._isRunning=!0,this._lastTime=performance.now(),this._renderLoop())}stop(){if(this._isDisposed)throw new Error("ViewerCore has been disposed");this._isRunning=!1,this._animationFrameId!==null&&(cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null)}resize(e,r){if(this._isDisposed)throw new Error("ViewerCore has been disposed");if(!this._isInitialized)throw new Error("ViewerCore has not been initialized. Call initialize() first.");const n=Math.max(1,e),i=Math.max(1,r);this._cameraManager.setAspect(n/i),this._renderManager.setSize(n,i)}dispose(){this._isDisposed||(this.stop(),this._pluginSystem.disposeAll(),this._renderManager.dispose(),this._sceneManager.dispose(),this._cameraManager.dispose(),this._container=null,this._isInitialized=!1,this._isDisposed=!0)}}class ae{constructor(){s(this,"name","ModelLoaderPlugin");s(this,"_context",null);s(this,"_loader");s(this,"_currentModel",null);s(this,"_boundingBox",null);s(this,"_center",null);s(this,"_loadingState",{isLoading:!1,progress:0,error:null});s(this,"_isDisposed",!1);this._loader=new ee.GLTFLoader}get loadingState(){return{...this._loadingState}}initialize(e){if(this._isDisposed)throw new Error("ModelLoaderPlugin has been disposed");this._context=e}async load(e){if(this._isDisposed)throw new Error("ModelLoaderPlugin has been disposed");if(!this._context)throw new Error("ModelLoaderPlugin has not been initialized. Call initialize() first.");this._currentModel&&this.unload(),this._loadingState={isLoading:!0,progress:0,error:null};try{const n=(await this._loadGLTF(e)).scene;this._context.scene.add(n),this._currentModel=n;const i=new d.Box3().setFromObject(n),l=new d.Vector3;return i.getCenter(l),this._boundingBox=i,this._center=l,this._loadingState={isLoading:!1,progress:100,error:null},{model:n,boundingBox:i,center:l}}catch(r){const n=r instanceof Error?r:new Error(`Failed to load model from URL: ${e}`);throw this._loadingState={isLoading:!1,progress:0,error:n},n}}unload(){this._currentModel&&this._context&&(this._context.scene.remove(this._currentModel),this._disposeObject(this._currentModel),this._currentModel=null,this._boundingBox=null,this._center=null)}getCenter(){return this._center?this._center.clone():null}getBoundingBox(){return this._boundingBox?this._boundingBox.clone():null}dispose(){this._isDisposed||(this.unload(),this._context=null,this._isDisposed=!0)}_loadGLTF(e){return new Promise((r,n)=>{this._loader.load(e,i=>{r(i)},i=>{if(i.lengthComputable){const l=i.loaded/i.total*100;this._loadingState={...this._loadingState,progress:Math.round(l)}}},i=>{const l=i instanceof Error?i.message:`Failed to load model from URL: ${e}`;n(new Error(l))})})}_disposeObject(e){for(;e.children.length>0;){const r=e.children[0];r&&(this._disposeObject(r),e.remove(r))}e instanceof d.Mesh&&(e.geometry&&e.geometry.dispose(),e.material&&this._disposeMaterial(e.material)),(e instanceof d.Line||e instanceof d.Points)&&(e.geometry&&e.geometry.dispose(),e.material&&this._disposeMaterial(e.material)),e instanceof d.SkinnedMesh&&e.skeleton&&e.skeleton.dispose()}_disposeMaterial(e){Array.isArray(e)?e.forEach(r=>this._disposeSingleMaterial(r)):this._disposeSingleMaterial(e)}_disposeSingleMaterial(e){["map","lightMap","bumpMap","normalMap","specularMap","envMap","alphaMap","aoMap","displacementMap","emissiveMap","gradientMap","metalnessMap","roughnessMap","clearcoatMap","clearcoatNormalMap","clearcoatRoughnessMap","transmissionMap","thicknessMap","sheenColorMap","sheenRoughnessMap"].forEach(n=>{const i=e[n];i instanceof d.Texture&&i.dispose()}),e.dispose()}}class oe{constructor(){s(this,"name","OrbitControlsPlugin");s(this,"_context",null);s(this,"_controls",null);s(this,"_isDisposed",!1);s(this,"_initialTarget",new d.Vector3(0,0,0));s(this,"_initialCameraPosition",new d.Vector3(0,0,5));s(this,"_initialMinDistance",.1);s(this,"_initialMaxDistance",1e3)}get controls(){if(!this._controls)throw new Error("OrbitControlsPlugin has not been initialized. Call initialize() first.");return this._controls}initialize(e){if(this._isDisposed)throw new Error("OrbitControlsPlugin has been disposed");this._context=e,this._controls=new ee.OrbitControls(e.camera,e.container),this._initialCameraPosition.copy(e.camera.position),this._controls.minDistance=this._initialMinDistance,this._controls.maxDistance=this._initialMaxDistance,this._controls.enableDamping=!0,this._controls.dampingFactor=.05,this._controls.enablePan=!0,this._controls.enableRotate=!0,this._controls.enableZoom=!0}configure(e){if(this._isDisposed)throw new Error("OrbitControlsPlugin has been disposed");if(!this._controls)throw new Error("OrbitControlsPlugin has not been initialized. Call initialize() first.");e.target!==void 0&&(this._controls.target.copy(e.target),this._initialTarget.copy(e.target)),e.minDistance!==void 0&&(this._controls.minDistance=e.minDistance,this._initialMinDistance=e.minDistance),e.maxDistance!==void 0&&(this._controls.maxDistance=e.maxDistance,this._initialMaxDistance=e.maxDistance),e.enableDamping!==void 0&&(this._controls.enableDamping=e.enableDamping),e.dampingFactor!==void 0&&(this._controls.dampingFactor=e.dampingFactor),e.enablePan!==void 0&&(this._controls.enablePan=e.enablePan),e.enableRotate!==void 0&&(this._controls.enableRotate=e.enableRotate),e.enableZoom!==void 0&&(this._controls.enableZoom=e.enableZoom),this._controls.update()}setTarget(e){if(this._isDisposed)throw new Error("OrbitControlsPlugin has been disposed");if(!this._controls)throw new Error("OrbitControlsPlugin has not been initialized. Call initialize() first.");this._controls.target.copy(e),this._initialTarget.copy(e),this._controls.update()}setZoomLimits(e,r){if(this._isDisposed)throw new Error("OrbitControlsPlugin has been disposed");if(!this._controls)throw new Error("OrbitControlsPlugin has not been initialized. Call initialize() first.");if(e>r)throw new Error("Minimum zoom distance cannot be greater than maximum zoom distance");if(e<0)throw new Error("Minimum zoom distance cannot be negative");this._controls.minDistance=e,this._controls.maxDistance=r,this._initialMinDistance=e,this._initialMaxDistance=r,this._controls.update()}reset(){if(this._isDisposed)throw new Error("OrbitControlsPlugin has been disposed");if(!this._controls||!this._context)throw new Error("OrbitControlsPlugin has not been initialized. Call initialize() first.");this._controls.target.copy(this._initialTarget),this._context.camera.position.copy(this._initialCameraPosition),this._controls.minDistance=this._initialMinDistance,this._controls.maxDistance=this._initialMaxDistance,this._controls.update()}update(e){this._isDisposed||!this._controls||this._controls.update()}dispose(){this._isDisposed||(this._controls&&(this._controls.dispose(),this._controls=null),this._context=null,this._isDisposed=!0)}}var N={exports:{}},z={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X;function me(){if(X)return z;X=1;var o=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,l){var m=null;if(l!==void 0&&(m=""+l),i.key!==void 0&&(m=""+i.key),"key"in i){l={};for(var E in i)E!=="key"&&(l[E]=i[E])}else l=i;return i=l.ref,{$$typeof:o,type:n,key:m,ref:i!==void 0?i:null,props:l}}return z.Fragment=e,z.jsx=r,z.jsxs=r,z}var k={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q;function ge(){return Q||(Q=1,process.env.NODE_ENV!=="production"&&(function(){function o(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ce?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case h:return"Fragment";case b:return"Profiler";case u:return"StrictMode";case R:return"Suspense";case C:return"SuspenseList";case le:return"Activity"}if(typeof t=="object")switch(typeof t.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),t.$$typeof){case L:return"Portal";case D:return t.displayName||"Context";case g:return(t._context.displayName||"Context")+".Consumer";case M:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case A:return a=t.displayName||null,a!==null?a:o(t.type)||"Memo";case V:a=t._payload,t=t._init;try{return o(t(a))}catch{}}return null}function e(t){return""+t}function r(t){try{e(t);var a=!1}catch{a=!0}if(a){a=console;var c=a.error,_=typeof Symbol=="function"&&Symbol.toStringTag&&t[Symbol.toStringTag]||t.constructor.name||"Object";return c.call(a,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",_),e(t)}}function n(t){if(t===h)return"<>";if(typeof t=="object"&&t!==null&&t.$$typeof===V)return"<...>";try{var a=o(t);return a?"<"+a+">":"<...>"}catch{return"<...>"}}function i(){var t=$.A;return t===null?null:t.getOwner()}function l(){return Error("react-stack-top-frame")}function m(t){if(B.call(t,"key")){var a=Object.getOwnPropertyDescriptor(t,"key").get;if(a&&a.isReactWarning)return!1}return t.key!==void 0}function E(t,a){function c(){q||(q=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",a))}c.isReactWarning=!0,Object.defineProperty(t,"key",{get:c,configurable:!0})}function y(){var t=o(this.type);return U[t]||(U[t]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),t=this.props.ref,t!==void 0?t:null}function T(t,a,c,_,F,Y){var f=c.ref;return t={$$typeof:w,type:t,key:a,props:c,_owner:_},(f!==void 0?f:null)!==null?Object.defineProperty(t,"ref",{enumerable:!1,get:y}):Object.defineProperty(t,"ref",{enumerable:!1,value:null}),t._store={},Object.defineProperty(t._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(t,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(t,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:F}),Object.defineProperty(t,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:Y}),Object.freeze&&(Object.freeze(t.props),Object.freeze(t)),t}function P(t,a,c,_,F,Y){var f=a.children;if(f!==void 0)if(_)if(ue(f)){for(_=0;_<f.length;_++)x(f[_]);Object.freeze&&Object.freeze(f)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else x(f);if(B.call(a,"key")){f=o(t);var O=Object.keys(a).filter(function(de){return de!=="key"});_=0<O.length?"{key: someKey, "+O.join(": ..., ")+": ...}":"{key: someKey}",H[f+_]||(O=0<O.length?"{"+O.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,_,f,O,f),H[f+_]=!0)}if(f=null,c!==void 0&&(r(c),f=""+c),m(a)&&(r(a.key),f=""+a.key),"key"in a){c={};for(var W in a)W!=="key"&&(c[W]=a[W])}else c=a;return f&&E(c,typeof t=="function"?t.displayName||t.name||"Unknown":t),T(t,f,c,i(),F,Y)}function x(t){S(t)?t._store&&(t._store.validated=1):typeof t=="object"&&t!==null&&t.$$typeof===V&&(t._payload.status==="fulfilled"?S(t._payload.value)&&t._payload.value._store&&(t._payload.value._store.validated=1):t._store&&(t._store.validated=1))}function S(t){return typeof t=="object"&&t!==null&&t.$$typeof===w}var v=p,w=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),ce=Symbol.for("react.client.reference"),$=v.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=Object.prototype.hasOwnProperty,ue=Array.isArray,j=console.createTask?console.createTask:function(){return null};v={react_stack_bottom_frame:function(t){return t()}};var q,U={},G=v.react_stack_bottom_frame.bind(v,l)(),Z=j(n(l)),H={};k.Fragment=h,k.jsx=function(t,a,c){var _=1e4>$.recentlyCreatedOwnerStacks++;return P(t,a,c,!1,_?Error("react-stack-top-frame"):G,_?j(n(t)):Z)},k.jsxs=function(t,a,c){var _=1e4>$.recentlyCreatedOwnerStacks++;return P(t,a,c,!0,_?Error("react-stack-top-frame"):G,_?j(n(t)):Z)}})()),k}var K;function we(){return K||(K=1,process.env.NODE_ENV==="production"?N.exports=me():N.exports=ge()),N.exports}var be=we();const Ee=({modelUrl:o,pivotPoint:e,zoomLimits:r,className:n,style:i,onLoad:l,onError:m,onLoadingChange:E})=>{const y=p.useRef(null),T=p.useRef(null),P=p.useRef(null),x=p.useRef(null),S=p.useRef(l),v=p.useRef(m),w=p.useRef(E);p.useEffect(()=>{S.current=l},[l]),p.useEffect(()=>{v.current=m},[m]),p.useEffect(()=>{w.current=E},[E]),p.useEffect(()=>{const h=y.current;if(!h)return;const u=new ne;u.initialize({container:h,antialias:!0,alpha:!0});const b=new ae,g=new oe;return u.plugins.register(b),u.plugins.register(g),T.current=u,P.current=b,x.current=g,u.start(),()=>{u.dispose(),T.current=null,P.current=null,x.current=null}},[]),p.useEffect(()=>{const h=y.current,u=T.current;if(!h||!u)return;const b=new ResizeObserver(g=>{for(const D of g){const{width:M,height:R}=D.contentRect;M>0&&R>0&&u.resize(M,R)}});return b.observe(h),()=>{b.disconnect()}},[]),p.useEffect(()=>{var b;const h=P.current,u=x.current;if(h){if(!o){h.unload();return}(b=w.current)==null||b.call(w,!0),h.load(o).then(g=>{var D,M;if((D=w.current)==null||D.call(w,!1),u&&!e&&u.setTarget(g.center),u&&!r){const R=g.boundingBox,C=new d.Vector3;R.getSize(C);const A=Math.max(C.x,C.y,C.z);u.setZoomLimits(A*.1,A*10)}(M=S.current)==null||M.call(S,g)}).catch(g=>{var M,R;(M=w.current)==null||M.call(w,!1);const D=g instanceof Error?g:new Error(String(g));(R=v.current)==null||R.call(v,D)})}},[o]),p.useEffect(()=>{const h=x.current;if(h&&e){const u=new d.Vector3(e.x,e.y,e.z);h.setTarget(u)}},[e]),p.useEffect(()=>{const h=x.current;if(h&&r){const u=r.min??.1,b=r.max??1e3;h.setZoomLimits(u,b)}},[r]);const L={width:"100%",height:"100%",...i};return be.jsx("div",{ref:y,className:n,style:L})};exports.CameraManager=re;exports.ModelLoaderPlugin=ae;exports.OrbitControlsPlugin=oe;exports.PluginSystem=se;exports.RenderManager=ie;exports.SceneManager=te;exports.ThreeViewer=Ee;exports.ViewerCore=ne;
//# sourceMappingURL=threejs-viewer.cjs.map
